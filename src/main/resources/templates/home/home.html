<html xmlns:th="https://www.thymeleaf.org">
    <head>
        <div th:replace="general :: headerfiles" th:remove="tag"></div>
        <title>Profile Home</title>
        <link th:href="@{/styles/home.css}" rel="stylesheet">
    </head>

    <body>
        <nav th:replace="general :: header"></nav>

        <main>
            <section class="home">
                <h1 class="home__title">
                    <th:block th:if="${user.isUpdated()}" th:text="'Welcome back, ' + ${user.getFirstName()}"></th:block>
                    <th:block th:unless="${user.isUpdated()}" th:text="'Hello, newcomer'"></th:block>
                </h1>

                <h2 class="home__subtitle">
                    <th:block th:if="${user.isUpdated()}" th:text="'Modify your information if necessary'"></th:block>
                    <th:block th:unless="${user.isUpdated()}" th:text="'Get started by filling in your information'"></th:block>
                </h2>

                <form class="home__form" action="#" th:action="@{/update/{path}(path = ${user.getId()})}" th:object="${user}" method="post">
                    <div class="form__row">
                        <div class="form__row-item">
                            <label class="form__label" for="firstname">First Name</label>
                            <input class="form__input" type="text" id="firstname" name="firstname"
                                   th:field="*{firstName}"/>
                        </div>

                        <div class="form__row-item">
                            <label class="form__label" for="firstname">Last Name</label>
                            <input class="form__input" type="text" id="lastname" name="lastname"
                                   th:field="*{lastName}"/>
                        </div>
                    </div>

                    <div class="form__button-holder">
                        <button class="form__button btn" type="submit">Update</button>
                    </div>
                </form>
            </section>

            <section class="education">
                <h2 class="education__title">Education</h2>
                <p class="education__subtitle">Enter your education details</p>
                <form class="education__form" action="#" th:action="@{/update/{path}/education(path = ${user.getId()})}" method="post">
                    <div class="education__form-section" th:each="myEd: ${educations}">
                        <div class="form__row">
                            <div class="form__row-item">
                                <label class="form__label" for="university">University</label>
                                <input class="form__input" type="text" id="university" name="university"
                                       th:value="${myEd.getUniversity()}"/>
                            </div>

                            <div class="form__row-item">
                                <label class="form__label" for="period">Degree</label>
                                <input class="form__input" type="text" id="period" name="period"
                                       th:value="${myEd.getPeriod()}"/>
                            </div>
                        </div>

                        <div class="form__row">
                            <div class="form__row-item">
                                <label class="form__label" for="degree">Degree</label>
                                <input class="form__input" type="text" id="degree" name="degree"
                                       th:value="${myEd.getDegree()}"/>
                            </div>
                        </div>

                        <div class="form__row">
                            <div class="form__row-item">
                                <label class="form__label" for="details">Extra information</label>
                                <textarea class="form__textarea" id="details" name="details" rows="5"
                                       th:text="${myEd.getDetails()}"></textarea>
                            </div>
                        </div>
                    </div>

                    <div class="form__button-holder">
                        <button class="form__button btn" type="submit">Update</button>
                    </div>
                </form>
            </section>
        </main>
    </body>
</html>